!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/router"),require("rxjs"),require("rxjs/operators"),require("@covalent/core/common"),require("@angular/common"),require("@angular/material/icon"),require("@angular/material/core"),require("@angular/cdk/portal")):"function"==typeof define&&define.amd?define("@covalent/experimental/nav-stepper",["exports","@angular/core","@angular/router","rxjs","rxjs/operators","@covalent/core/common","@angular/common","@angular/material/icon","@angular/material/core","@angular/cdk/portal"],t):t((e.covalent=e.covalent||{},e.covalent.experimental=e.covalent.experimental||{},e.covalent.experimental["nav-stepper"]={}),e.ng.core,e.ng.router,e.rxjs,e.rxjs.operators,e.common,e.ng.common,e.ng.material.icon,e.ng.material.core,e.ng.cdk.portal)}(this,function(e,n,t,i,r,s,o,a,d,p){"use strict";var l="none",h="required",c="complete",g=function(){function e(e,t,n,i){this._elementRef=e,this.router=t,this._renderer=n,this._changeDetectorRef=i,this._displayStep=!0,this._displayLine=!0,this._width=0,this._active=!1,this.state=l,this._renderer.addClass(this._elementRef.nativeElement,"mat-button")}return e.prototype.isRequired=function(){return!0},e.prototype.isComplete=function(){return!0},Object.defineProperty(e.prototype,"displayStep",{get:function(){return this._displayStep},set:function(e){this._displayStep=e,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayLine",{get:function(){return this._displayLine},set:function(e){this._displayLine=e,this._changeDetectorRef.markForCheck()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"active",{get:function(){return this._active},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"displayBinding",{get:function(){return this._displayStep?undefined:"none"},enumerable:!0,configurable:!0}),e.prototype.ngAfterViewInit=function(){var e=this;Promise.resolve().then(function(){e._width=e._elementRef.nativeElement.getBoundingClientRect().width,e._changeDetectorRef.markForCheck()})},e.prototype.ngOnInit=function(){this.router.url===this.routerLink&&(this._active=!0)},e.decorators=[{type:n.Component,args:[{selector:"td-nav-step, a[td-nav-step]",template:'<td-nav-step-header class="td-step-horizontal-header"\n                [number]="number"\n                [active]="active"\n                [state]="state"\n                [displayLine]="displayLine">\n  <ng-template td-nav-step-header-label [ngIf]="true"><ng-content></ng-content></ng-template>\n  <ng-template td-nav-step-header-sublabel class="td-nav-step-sublabel" [ngIf]="sublabel">{{sublabel}}</ng-template>\n</td-nav-step-header>',changeDetection:n.ChangeDetectionStrategy.OnPush,styles:[":host .td-nav-step{height:48px;box-sizing:border-box;-ms-flex-direction:row;flex-direction:row;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:center;align-content:center;max-width:100%;-ms-flex-pack:end;justify-content:flex-end}:host .td-nav-step ::ng-deep>*{margin:0 10px}"]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:t.Router},{type:n.Renderer2},{type:n.ChangeDetectorRef}]},e.propDecorators={routerLink:[{type:n.Input,args:["routerLink"]}],state:[{type:n.Input,args:["state"]}],sublabel:[{type:n.Input,args:["sublabel"]}],displayBinding:[{type:n.HostBinding,args:["style.display"]}]},e}(),u=function(){function e(e,t){this._elementRef=e,this._changeDetectorRef=t,this._resizeSubscription=i.Subscription.EMPTY,this._widthSubject=new i.Subject,this._resizing=!1,this._showLeftArrow=!1,this._showRightArrow=!1,this._leftHidden=0,this._rightHidden=0,this.hiddenSteps=new Array}return e.prototype.ngOnInit=function(){var e=this;this._resizeSubscription=i.merge(i.fromEvent(window,"resize").pipe(r.debounceTime(10)),this._widthSubject.asObservable().pipe(r.distinctUntilChanged())).subscribe(function(){e._resizing||(e._resizing=!0,setTimeout(function(){e.displayWidthAvailableSteps(),e._resizing=!1,e._changeDetectorRef.markForCheck()},100))})},e.prototype.ngDoCheck=function(){this._elementRef&&this._elementRef.nativeElement&&this._widthSubject.next(this.nativeElementWidth)},e.prototype.ngAfterContentInit=function(){this.setStepSettings(),this._changeDetectorRef.markForCheck()},e.prototype.ngOnDestroy=function(){this._resizeSubscription.unsubscribe()},Object.defineProperty(e.prototype,"nativeElementWidth",{get:function(){var e=this._elementRef.nativeElement,t=window.getComputedStyle(e),n=parseInt(t.borderLeft,10),i=parseInt(t.borderRight,10),r=parseInt(t.marginLeft,10),s=parseInt(t.marginRight,10),o=parseInt(t.paddingLeft,10),a=parseInt(t.paddingRight,10);return e.getBoundingClientRect().width-n-i-r-s-o-a},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._steps?this._steps.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showLeftArrow",{get:function(){return this._showLeftArrow},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showRightArrow",{get:function(){return this._showRightArrow},enumerable:!0,configurable:!0}),e.prototype.showHiddenLeftStep=function(){var e=this._steps.toArray();e[this._leftHidden-1].displayStep=!0,this.hiddenSteps.splice(this._leftHidden-1,1),this._leftHidden--,0===this._leftHidden&&(this._showLeftArrow=!1),e[e.length-(this._rightHidden+1)].displayStep=!1,e[e.length-(this._rightHidden+2)].displayLine=!1,this.hiddenSteps.push(e[e.length-1]),this._rightHidden++,this._showRightArrow=!0},e.prototype.showHiddenRightStep=function(){var e=this._steps.toArray();e[e.length-this._rightHidden].displayStep=!0,e[e.length-(this._rightHidden+1)].displayLine=!0,this.hiddenSteps.pop(),this._rightHidden--,0===this._rightHidden&&(this._showRightArrow=!1),e[this._leftHidden].displayStep=!1,this.hiddenSteps.push(e[this._leftHidden]),this._leftHidden++,this._showLeftArrow=!0},e.prototype.setStepSettings=function(){var e=this._steps.toArray();0<e.length&&(e[e.length-1].displayLine=!1),e.forEach(function(e,t){e.number=t+1})},e.prototype.displayWidthAvailableSteps=function(){for(var e=0,t=this._steps.toArray(),n=this.hiddenSteps.length;n<t.length;n++)e+=t[n].width;var i=t.findIndex(function(e){return!0===e.active});if(this.nativeElementWidth<e)i>=t.length/2&&this._leftHidden<i?(this._showRightArrow=!1,this._showLeftArrow=!0,this._leftHidden++,t[this._leftHidden-1].displayStep=!1,this.hiddenSteps.push(t[this.hiddenSteps.length])):this._rightHidden<t.length-i&&(this._showRightArrow=!0,this._showLeftArrow=!1,this._rightHidden++,t[t.length-this._rightHidden].displayStep=!1,this.hiddenSteps.push(t[t.length-this._rightHidden])),this.displayWidthAvailableSteps();else{var r=this.hiddenSteps.length-1;for(n=r;0<=n;n--){if(e+t[n].width<this.nativeElementWidth){i>=t.length/2&&0<this._leftHidden||i<t.length/2&&0===this._rightHidden&&0<this._leftHidden?(t[this._leftHidden-1].displayStep=!0,this.hiddenSteps.shift(),this._leftHidden--,0===this._leftHidden&&(this._showLeftArrow=!1)):0<this._rightHidden&&(t[t.length-this._rightHidden].displayStep=!0,this.hiddenSteps.pop(),this._rightHidden--,0===this._rightHidden&&(this._showRightArrow=!1));for(var s=0,o=this.hiddenSteps.length;o<t.length;o++)s+=t[o].width;e=s}else if(n===r)break}}},e.decorators=[{type:n.Component,args:[{selector:"td-horizontal-nav-stepper",template:'<span class="td-steps-header">\n  <button *ngIf="showLeftArrow" mat-icon-button (click)="showHiddenLeftStep()">\n    <mat-icon>chevron_left</mat-icon>\n  </button>\n  <ng-content></ng-content>\n  <button *ngIf="showRightArrow" mat-icon-button (click)="showHiddenRightStep()">\n    <mat-icon>chevron_right</mat-icon>\n  </button>\n</span>\n',changeDetection:n.ChangeDetectionStrategy.OnPush,styles:[":host .td-steps-header{box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}"]}]}],e.ctorParameters=function(){return[{type:n.ElementRef},{type:n.ChangeDetectorRef}]},e.propDecorators={_steps:[{type:n.ContentChildren,args:[g]}]},e}(),f=function(e,t){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};var m=function v(){},b=s.mixinDisableRipple(s.mixinDisabled(m)),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state=l,e}return function i(e,t){function n(){this.constructor=e}f(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(e,t),e.prototype.isComplete=function(){return this.state===c},e.prototype.isRequired=function(){return this.state===h},e.decorators=[{type:n.Component,args:[{selector:"td-nav-step-header",inputs:["disableRipple"],template:'<div class="td-step-header"\n      matRipple\n      [matRippleDisabled]="disableRipple"\n      [tabIndex]="0">\n  <div class="td-circle"\n      [class.mat-inactive]="(!active && !isComplete())"\n      [class.mat-active]="active"\n      *ngIf="!isRequired() && !isComplete()">\n    <span *ngIf="(active || !isComplete())">{{number || \'\'}}</span>\n  </div>\n  <div class="td-complete" *ngIf="isComplete()">\n    <mat-icon class="mat-complete">check_circle</mat-icon>\n  </div>\n  <div class="td-triangle"\n      *ngIf="isRequired()">\n    <mat-icon class="mat-warn">warning</mat-icon>\n  </div>\n  <div class="td-nav-step-label-wrapper"\n        [class.mat-inactive]="(!active && !isComplete())"\n        [class.mat-warn]="isRequired()">\n    <div class="td-step-label">\n      <ng-content select="[td-nav-step-header-label]"></ng-content>\n    </div>\n    <div class="td-nav-step-sublabel">\n      <ng-content select="[td-nav-step-header-sublabel]"></ng-content>\n    </div>\n  </div>\n  <span class="td-nav-step-header-separator"></span>\n  <mat-icon class="td-edit-icon" *ngIf="isComplete() && !active">mode_edit</mat-icon>\n  <span *ngIf="displayLine" class="td-horizontal-line"></span>\n</div>\n',styles:[".td-step-header{position:relative;outline:0;height:72px;-ms-flex-direction:row;flex-direction:row;box-sizing:border-box;display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-pack:start;justify-content:start;-ms-flex-align:center;align-items:center;-ms-flex-line-pack:center;align-content:center;max-width:100%}.td-step-header:hover:not(.mat-disabled){cursor:pointer}.td-step-header mat-icon.td-edit-icon{margin:0 8px}.td-step-header mat-icon.mat-warn{font-size:24px;height:24px;width:24px}.td-step-header mat-icon.mat-complete{position:relative;left:-2px;top:2px;font-size:28px;height:24px;width:24px}.td-step-header .td-circle{height:24px;width:24px;line-height:24px;border-radius:99%;text-align:center;-ms-flex:none;flex:none}.td-step-header .td-circle mat-icon{margin-top:2px;font-weight:700}.td-step-header .td-triangle>mat-icon{font-size:25px}::ng-deep :not([dir=rtl]) .td-step-header .td-circle,::ng-deep :not([dir=rtl]) .td-step-header .td-complete,::ng-deep :not([dir=rtl]) .td-step-header .td-triangle{margin-left:8px;margin-right:0}::ng-deep [dir=rtl] .td-step-header .td-circle,::ng-deep [dir=rtl] .td-step-header .td-complete,::ng-deep [dir=rtl] .td-step-header .td-triangle{margin-left:0;margin-right:8px}.td-step-header .td-circle,.td-step-header .td-complete{font-size:14px}.td-step-header .td-nav-step-label-wrapper{padding-left:8px;padding-right:8px}.td-step-header .td-nav-step-header-separator{-ms-flex:1;flex:1;box-sizing:border-box}.td-horizontal-line{border-bottom-width:1px;border-bottom-style:solid;height:1px;position:relative;min-width:15px;-ms-flex:1;flex:1;box-sizing:border-box;display:block}::ng-deep :not([dir=rtl]) .td-horizontal-line{left:-6px;right:-3px}::ng-deep [dir=rtl] .td-horizontal-line{left:-3px;right:-6px}"]}]}],e.propDecorators={displayLine:[{type:n.Input,args:["displayLine"]}],number:[{type:n.Input,args:["number"]}],active:[{type:n.Input,args:["active"]}],state:[{type:n.Input,args:["state"]}]},e}(b),_=function(){function e(){}return e.decorators=[{type:n.NgModule,args:[{imports:[o.CommonModule,a.MatIconModule,d.MatRippleModule,p.PortalModule],declarations:[u,g,y],exports:[u,g]}]}],e}();e.CovalentNavStepperModule=_,e.TdHorizontalStepperComponent=u,e.ɵb=m,e.ɵd=y,e.ɵc=b,e.ɵa=g,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-experimental-nav-stepper.umd.min.js.map