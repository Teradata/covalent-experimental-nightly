!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("@angular/http"),require("@covalent/http"),require("rxjs"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("@covalent/experimental/http",["exports","@angular/core","@angular/common/http","@angular/http","@covalent/http","rxjs","rxjs/operators"],t):t((e.covalent=e.covalent||{},e.covalent.experimental=e.covalent.experimental||{},e.covalent.experimental.http={}),e.ng.core,e.ng.common.http,e.ng.http,e.covalent.http,e.rxjs,e.rxjs.operators)}(this,function(e,f,_,u,p,t,c){"use strict";var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function S(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}function i(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,a,o=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(n=o.next()).done;)i.push(n.value)}catch(s){a={error:s}}finally{try{n&&!n.done&&(r=o["return"])&&r.call(o)}finally{if(a)throw a.error}}return i}var w=t.of(undefined);function r(a,r){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"baseUrl",{get:function(){return("string"==typeof this.basePath?this.basePath.replace(/\/$/,""):"")+this._baseUrl},enumerable:!0,configurable:!0}),t.prototype.buildConfig=function(){this.http=this._injector.get(r.httpServiceType||_.HttpClient),this._baseUrl=r&&r.baseUrl?r.baseUrl.replace(/\/$/,""):"",this._baseHeaders=r&&r.baseHeaders?r.baseHeaders:new _.HttpHeaders,this._defaultObserve=r&&r.defaultObserve?r.defaultObserve:"body",this._defaultResponseType=r&&r.defaultResponseType?r.defaultResponseType:"json"},t.prototype.buildHeaders=function(){var t=this,r={};return this._baseHeaders.keys().forEach(function(e){r[e]=t._baseHeaders.get(e)}),new _.HttpHeaders(r)},t.prototype.buildRequest=function(e,t,r){return this._buildRequest(e,t,r)},t.prototype._buildRequest=function(e,t,r){if(void 0===r&&(r={}),r.responseType||(r.responseType=this._defaultResponseType),r.observe||(r.observe=this._defaultObserve),r.headers){var n=this.buildHeaders();if(r.headers instanceof _.HttpHeaders)r.headers.keys().forEach(function(e){n=n.set(e,r.headers.get(e))});else for(var a in r.headers)n=n.set(a,r.headers[a]);r.headers=n}else r.headers=this.buildHeaders();if(this.http instanceof p.HttpInterceptorService||this.http instanceof u.Http){var o=new u.Headers;r.headers.keys().forEach(function(e){o.set(e,r.headers.get(e))});var i=new u.URLSearchParams;if(r.params)if(r.params instanceof _.HttpParams)r.params.keys().forEach(function(e){i.set(e,r.params.get(e))});else for(var a in r.params)i.set(a,r.params[a]);var s=this.http.request(t,{headers:o,method:e,body:r.body?r.body:undefined,params:i});if("body"===r.observe){if("json"===r.responseType)return s.pipe(c.map(function(e){return e.json()}));if("text"===r.responseType)return s.pipe(c.map(function(e){return e.text()}));if("blob"===r.responseType)return s.pipe(c.map(function(e){return e.blob()}));if("arraybuffer"===r.responseType)return s.pipe(c.map(function(e){return e.arrayBuffer()}))}else if("events"===r.observe)throw Error('"events" not suppported in @angular/http');return s}return this.http.request(e,t,r)},t}(function(n){function e(e){var t=n.apply(this,function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e}(function p(e,t){for(var r=[],n=0;n<e.length;n++){var a=e[n];if(Array.isArray(a)){if(0===a.length)throw new Error("Arguments array must have arguments.");for(var o=undefined,i=0,s=0;s<a.length;s++){var u=a[s];u instanceof f.Optional||"Optional"===u.ngMetadataName?i|=8:u instanceof f.SkipSelf||"SkipSelf"===u.ngMetadataName?i|=4:u instanceof f.Self||"Self"===u.ngMetadataName?i|=2:o=u instanceof f.Inject?u.token:u}r.push(t.get(o,i))}else r.push(t.get(a))}return r}((new f.ÉµReflectionCapabilities).parameters(a),e)))||this;return t._injector=e,t.buildConfig(),t}return o(e,n),e.decorators=[{type:f.Injectable}],e.ctorParameters=function(){return[{type:f.Injector}]},e}(a))}var E=Symbol("TdHttpRESTParam");function a(a,o){return function(e,t,r){var n=Reflect.getOwnMetadata(E,e,t)||[];n.push({index:r,param:o,type:a}),Reflect.defineMetadata(E,n,e,t)}}function R(e,t){var r=e;if(t instanceof _.HttpParams)t.keys().forEach(function(e){t.get(e)!==undefined&&(r=r.set(e,t.get(e)))});else for(var n in t)t[n]!==undefined&&(r=r.set(n,t[n]));return r}function s(P){return function(H,j,e){var O=e.value;e.value=function(){var e,t,r,n;try{var a=P.path,o=Reflect.getOwnMetadata(E,H,j),i=[],s=void 0,u=new _.HttpParams;if(o)try{for(var p=S(o),f=p.next();!f.done;f=p.next()){if("param"===(b=f.value).type)i[b.index]=arguments[b.index],a=a.replace(":"+b.param,arguments[b.index]);else if("body"===b.type)i[b.index]=arguments[b.index],s=arguments[b.index];else if("queryParams"===b.type){i[b.index]=arguments[b.index];var c=arguments[b.index];P.options&&P.options.params&&(u=R(u,P.options.params)),c&&(u=R(u,c))}}}catch(g){e={error:g}}finally{try{f&&!f.done&&(t=p["return"])&&t.call(p)}finally{if(e)throw e.error}}var l=this.baseUrl+a,d=Object.assign({},P.options,{body:s,params:u}),h=this.buildRequest(P.method,l,d);if(o)try{for(var y=S(o),v=y.next();!v.done;v=y.next()){var b;"response"===(b=v.value).type&&(i[b.index]=h)}}catch(x){r={error:x}}finally{try{v&&!v.done&&(n=y["return"])&&n.call(y)}finally{if(r)throw r.error}}var m=O.apply(this,i);return m===w||m===undefined?h:m}catch(T){console.error(T)}}}}e.GET=function l(e){return s(Object.assign({method:"GET"},e))},e.POST=function d(e){return s(Object.assign({method:"POST"},e))},e.PATCH=function h(e){return s(Object.assign({method:"PATCH"},e))},e.PUT=function y(e){return s(Object.assign({method:"PUT"},e))},e.DELETE=function v(e){return s(Object.assign({method:"DELETE"},e))},e.TdHttp=function b(t){return function(e){return function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r(e,t))}},e.TdParam=function m(e){return a("param",e)},e.TdBody=function g(){return a("body")},e.TdResponse=function x(){return a("response")},e.TdQueryParams=function T(){return a("queryParams")},e.mixinHttp=r,e.NOOP_HTTP=w,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=covalent-experimental-http.umd.min.js.map